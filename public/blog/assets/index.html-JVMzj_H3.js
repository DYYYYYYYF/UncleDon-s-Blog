import{_ as t,c as e,o as a,a as d}from"./app-BX934J4H.js";const r={},i=d('<h2 id="修改-scfg文件" tabindex="-1"><a class="header-anchor" href="#修改-scfg文件"><span>修改.scfg文件</span></a></h2><p>Assets/Shaders目录下找到需要修改的Shader配置文件，新增对应参数。</p><h4 id="参数类型" tabindex="-1"><a class="header-anchor" href="#参数类型"><span>参数类型</span></a></h4><table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td>attribute</td><td>Shader中通过location定位取值。</td></tr><tr><td>uniform</td><td>Shader中通过Uniform Buffer取值。</td></tr></tbody></table><h4 id="值类型" tabindex="-1"><a class="header-anchor" href="#值类型"><span>值类型</span></a></h4><table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td>float</td><td>浮点型。</td></tr><tr><td>vec2</td><td>二维向量。</td></tr><tr><td>vec3</td><td>三维向量。</td></tr><tr><td>vec4</td><td>四维向量。</td></tr><tr><td>mat4</td><td>4x4矩阵。</td></tr><tr><td>u8/i8</td><td>无/有符号char型。(8bit)</td></tr><tr><td>u16/i16</td><td>无/有符号short型。(16bit)</td></tr><tr><td>u32/i32</td><td>无/有符号int型。(32bit)</td></tr><tr><td>samp</td><td>纹理贴图。（仅在uniform中生效）</td></tr></tbody></table><h4 id="作用域" tabindex="-1"><a class="header-anchor" href="#作用域"><span>作用域</span></a></h4><table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td>0</td><td>global全局。</td></tr><tr><td>1</td><td>instance实例。</td></tr><tr><td>2</td><td>local本地。</td></tr></tbody></table><h5 id="例" tabindex="-1"><a class="header-anchor" href="#例"><span>例：</span></a></h5><ol><li>attribute=vec3,in_position</li><li>uniform=mat4,0,projection</li></ol><h2 id="cpp文件增加参数" tabindex="-1"><a class="header-anchor" href="#cpp文件增加参数"><span>CPP文件增加参数</span></a></h2><h4 id="shader-hpp" tabindex="-1"><a class="header-anchor" href="#shader-hpp"><span>Shader.hpp</span></a></h4><p>struct MaterialShaderUniformLocations中增加对应参数，用于存放shader中location。</p><h4 id="materialsystem-cpp" tabindex="-1"><a class="header-anchor" href="#materialsystem-cpp"><span>MaterialSystem.cpp</span></a></h4><p>MaterialSystem::Initialize()：初始化location为INVALID_ID_U16。</p><p>MaterialSystem::AcquireFromConfig()：请求材质对应shader中location。</p><p>MaterialSystem::ApplyGlobal()：参数列表中新增对应类型参数并在对应材质中使用该值。（临时，后期需要修改应用方法）</p>',17),n=[i];function s(c,h){return a(),e("div",null,n)}const l=t(r,[["render",s],["__file","index.html.vue"]]),p=JSON.parse(`{"path":"/article/1eb66uk9/","title":"新增Shader属性","lang":"zh-CN","frontmatter":{"title":"新增Shader属性","author":"UncleDon","createTime":"2024/07/09 22:56:42","permalink":"/article/1eb66uk9/","tags":["DuckEngine"],"head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[{"level":2,"title":"修改.scfg文件","slug":"修改-scfg文件","link":"#修改-scfg文件","children":[]},{"level":2,"title":"CPP文件增加参数","slug":"cpp文件增加参数","link":"#cpp文件增加参数","children":[]}],"isBlogPost":true,"readingTime":{"minutes":0.83,"words":250},"git":{"updatedTime":1720537778000,"contributors":[{"name":"UncleDon","email":"64484752+DYYYYYYYF@users.noreply.github.com","commits":1},{"name":"uncledon.cn","email":"dongyf@www.uncledon.cn","commits":1}]},"filePathRelative":"DuckEngine/新增Shader属性.md","categoryList":[{"type":10002,"name":"DuckEngine"}]}`);export{l as comp,p as data};
